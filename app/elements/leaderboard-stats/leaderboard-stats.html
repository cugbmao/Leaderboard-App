<link rel="import" href="../../bower_components/polymer/polymer.html">

<polymer-element name="leaderboard-stats" attributes="hashHistory">
  <template>
    <link rel="stylesheet" href="leaderboard-stats.css">
    <div id="sectionPanel" class="section-panel {{ {wide: wide} | tokenList }}"
         flex vertical layout?="{{!wide}}">

      <div class="background-fade  background-fade--themed"
           fit
           cross-fade></div>

      <div class="card" flex?="{{!wide}}" vertical layout?="{{!wide}}" hero-p>

        <core-toolbar class="menu-toolbar" hero-id="stats-title" hero>

          <div class="section-title" flex cross-fade-delayed>Stats</div>

        </core-toolbar>

        <div id="sectionContent"
             class="section-content"
             flex
             hero-id="stats-background"
             hero="{{!wide}}">

          <section class="not-available"
                   hidden?="{{groupings.length}}"
                   fit>

            <div relative>
              <core-icon icon="menu-tile-icons:stats" class="content-icon"></core-icon>
              <p>This section will be used for checking individual player score stats, course stats, etc.</p>
              <p>In the meantime, a random stat - <span class="random-stat">{{statToDisplay}}</span></p>
            </div>
          </section>

        </div>

        <paper-fab class="fab-button"
                   icon="{{icon}}"></paper-fab>

      </div>

      <paper-icon-button class="back-button"
                         icon="arrow-back"
                         on-tap="{{backNavigation}}"
                         hero-id="stats-back-button"
                         hero>
      </paper-icon-button>

      <paper-icon-button class="home-button"
                         icon="home"
                         on-tap="{{homeNavigation}}"
                         hero-id="stats-home-button"
                         hero>
      </paper-icon-button>

    </div>
  </template>
  <script>
  (function () {

    Polymer({

      statToDisplay: '',

      // Array of stats to call randomly
      stat: [
        'Luckiest golfer on the 2014 trip was Dave Riley with the worst hole in one ever witnessed.',
        'The funniest drive ever recorded on a golf trip, was Gary Shaw at Kirkby Lonsdale in 2010.'
      ],

      ready: function() {
        this.randomStat();
      },

      // Helper method to get random number
      getRandomIntInclusive: function(min, max) {
        return Math.floor(Math.random() * (max - min + 1)) + min;
      },

      // Parse a date using moment.js
      randomStat: function() {
        this.statToDisplay = this.stat[this.getRandomIntInclusive(0, this.stat.length - 1)];
      },

      backNavigation: function() {

        // If user has landed directly on stats, Go to the menu
        if (this.hashHistory.length <= 2) {
            window.location.hash = 'menu';
        } else {
            window.history.back();
        }
      },

      homeNavigation: function() {
          window.location.hash = 'menu';
      }
    });

  })();
  </script>
</polymer-element>
