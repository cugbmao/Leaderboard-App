<link rel="import" href="../../bower_components/polymer/polymer.html">

<polymer-element name="leaderboard-choose-course" attributes="hostedTournamentToUpdate chosenClub">
  <template>
    <link rel="stylesheet" href="leaderboard-choose-course.css">

    <firebase-element id="chooseCourseFireBase"
                      dataReady="{{clubDataReady}}"
                      data="{{clubData}}">
    </firebase-element>

    <section class="choose-course-section" layout vertical>

      <paper-progress class="club-details-progress" hidden?="{{clubData}}" indeterminate></paper-progress>

      <!-- ToDo - Link through to Submit course info section -->
      <div class="results-empty" hidden?="{{clubData !== null}}">
        There is currently no course data for this course.
      </div>

      <div class="club-info" hidden?="{{clubData == null}}">
        <div>{{clubData.name}}</div>
        <div class="club-address">
          <div>{{clubData.address.street}}</div>
          <div>{{clubData.address.city}}, {{clubData.address.country}}</div>
        </div>
      </div>

        <template repeat="{{clubData.courses}}">
          <paper-shadow z="1" class="card">
          <div class="course-info" horizontal center layout>
            <div class="course-name" hidden?="{{!name}}">{{name}} - </div>
            <div class="course-holes">{{length}} hole</div>
          </div>
          <div class="divider"></div>
          <ul class="course-teeboxes">
            <template repeat="{{teeboxes}}">
                <li class="teebox">{{designation}} Tees</li>
            </template>
          </ul>
          </paper-shadow>
        </template>

    </section>

  </template>
  <script>
    (function () {

      Polymer({

        chosenClubChanged: function() {

          if (this.chosenClub) {
            this.$.chooseCourseFireBase.location = 'https://incandescent-heat-3687.firebaseio.com/clubdetails/' + this.chosenClub;
          }
        },

        clubDataChanged: function() {
          console.log(this.clubData);
        }
      });

    })();
  </script>
</polymer-element>
